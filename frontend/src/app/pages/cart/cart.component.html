<div class="cart-container">
  <h1 class="cart-title">TU CARRITO</h1>
  <div class="cart-content">
    <div class="cart-items">
      <table>
        <thead>
          <tr>
            <th>Producto</th>
            <th>Precio</th>
            <th>Cantidad</th>
            <th>Total</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cartItems">
            <td class="product-info">
              <img [src]="item.product.images" [alt]="item.product.name" class="product-image">
              <div>
                <h3>{{ item.product.name }}</h3>
                <p>{{ item.product.description }}</p>
                <span class="category-tag">{{ item.product.category.name }}</span>
              </div>
            </td>
            <td>${{ item.product.price.toFixed(2) }}</td>
            <td class="quantity-control">
              <button (click)="updateQuantity(item, -1)" aria-label="Disminuir">-</button>
              <span>{{ item.quantity }}</span>
              <button (click)="updateQuantity(item, 1)" aria-label="Aumentar">+</button>
            </td>
            <td>${{ (item.product.price * item.quantity).toFixed(2) }}</td>
            <td>
              <button (click)="removeItem(item)" class="remove-button" aria-label="Remove item">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="order-summary">
      <h2>Resumen del pedido</h2>
      <div class="summary-row">
        <span>Subtotal</span>
        <span>${{ subtotal.toFixed(2) }}</span>
      </div>
      <div class="summary-row">
        <span>Envío:</span>
        <span>${{ shippingCost.toFixed(2) }}</span>
      </div>
      <div class="summary-row total">
        <span>Total</span>
        <span>${{ total.toFixed(2) }}</span>
      </div>
      <div class="promo-code">
        <label for="promo">Código promocional</label>
        <input type="text" id="promo" #promoCode placeholder="Ingresa tú código promocional">
        <button (click)="applyPromoCode(promoCode.value)" aria-label="Apply promo code">Aplicar cupón</button>
      </div>
      <button (click)="checkout()" class="checkout-button" aria-label="Proceed to checkout">Confirmar</button>
    </div>
  </div>
</div>